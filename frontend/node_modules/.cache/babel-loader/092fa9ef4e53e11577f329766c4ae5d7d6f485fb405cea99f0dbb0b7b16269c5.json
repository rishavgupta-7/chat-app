{"ast":null,"code":"var _jsxFileName = \"D:\\\\MERN\\\\projects\\\\Social-media\\\\frontend\\\\src\\\\pages\\\\AIChat.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { motion } from \"framer-motion\";\nimport \"./AIChat.css\"; // Import the external CSS\n\n// Added an 'icon' property to each persona for visual representation in the list\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst personas = [{\n  id: \"friendly\",\n  name: \"Friendly AI\",\n  description: \"Polite & helpful\",\n  icon: \"ðŸ˜Š\"\n}, {\n  id: \"sarcastic\",\n  name: \"Sarcastic AI\",\n  description: \"Funny & witty\",\n  icon: \"ðŸ˜\"\n}, {\n  id: \"coder\",\n  name: \"Coder AI\",\n  description: \"Expert developer\",\n  icon: \"ðŸ‘¨â€ðŸ’»\"\n}, {\n  id: \"romantic\",\n  name: \"Romantic AI\",\n  description: \"Loving & sweet\",\n  icon: \"â¤ï¸\"\n}];\nexport default function AIChat({\n  user,\n  setUser\n}) {\n  _s();\n  const [selectedPersona, setSelectedPersona] = useState(null); // This holds the ID of the selected persona\n  // The messages state will need to store messages for ALL personas if you want persistent history.\n  // For now, it's a single array, meaning history resets when you switch personas.\n  // To keep history per persona, `messages` would be an object like: { personaId: [], personaId2: [] }\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const [isLeftPanelHidden, setIsLeftPanelHidden] = useState(false); // State for mobile responsiveness\n\n  // Scroll to bottom when new message arrives\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n\n  // When a persona is selected, potentially hide the left panel on mobile\n  // and clear current messages (as per your current state structure)\n  const handlePersonaSelect = personaId => {\n    setSelectedPersona(personaId);\n    setMessages([]); // Clears messages when a new persona is selected (due to single 'messages' array)\n    setInput(\"\");\n    if (window.innerWidth <= 768) {\n      // Example breakpoint for mobile\n      setIsLeftPanelHidden(true);\n    }\n  };\n  const handleBackToPersonas = () => {\n    setIsLeftPanelHidden(false);\n    setSelectedPersona(null); // Optionally deselect current chat\n    setMessages([]); // Clear messages when going back\n  };\n  const sendMessage = async () => {\n    if (!input.trim() || !selectedPersona) return;\n    const userMsg = {\n      sender: \"user\",\n      text: input,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput(\"\");\n    setLoading(true);\n    try {\n      const formattedMessages = messages.map(msg => ({\n        role: msg.sender === \"user\" ? \"user\" : \"assistant\",\n        content: msg.text\n      }));\n      formattedMessages.push({\n        role: \"user\",\n        content: input\n      });\n      const res = await axios.post(\"http://localhost:5000/api/ai/chat\", {\n        messages: formattedMessages,\n        persona: selectedPersona // Send the selected persona ID\n      });\n      const aiReply = res.data.assistantMessage.content;\n      setMessages(prev => [...prev, {\n        sender: \"ai\",\n        text: aiReply,\n        timestamp: new Date()\n      }]);\n    } catch (error) {\n      console.error(\"Error contacting AI:\", error);\n      setMessages(prev => [...prev, {\n        sender: \"ai\",\n        text: \"Error contacting AI\",\n        timestamp: new Date()\n      }]);\n    }\n    setLoading(false);\n  };\n  const formatTime = date => {\n    const d = new Date(date);\n    return `${d.getHours()}:${d.getMinutes().toString().padStart(2, \"0\")}`;\n  };\n\n  // Find the currently selected persona object for the chat header\n  const currentPersona = personas.find(p => p.id === selectedPersona);\n  const lastMessageTime = messages.length > 0 ? formatTime(messages[messages.length - 1].timestamp) : null;\n  return (\n    /*#__PURE__*/\n    // Main container for the entire chat application\n    _jsxDEV(\"div\", {\n      className: \"ai-chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `ai-chat-left ${isLeftPanelHidden ? 'hidden-on-mobile' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-chat-left-header\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"AI Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-button\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-button\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), personas.map(p => /*#__PURE__*/_jsxDEV(motion.div, {\n          whileHover: {\n            scale: 1.02\n          },\n          onClick: () => handlePersonaSelect(p.id),\n          className: `ai-persona ${selectedPersona === p.id ? \"selected\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"persona-icon-placeholder\",\n            children: p.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"persona-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"persona-description\",\n              children: p.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), selectedPersona === p.id && messages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"persona-meta\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"persona-time\",\n              children: lastMessageTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-chat-right\",\n        children: selectedPersona ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-chat-right-header\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back-button\",\n              onClick: handleBackToPersonas,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-arrow-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-title\",\n              children: currentPersona ? currentPersona.name : \"AI Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"options-button\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-ellipsis-v\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-messages\",\n            children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `ai-message ${msg.sender}`,\n              children: [msg.text, /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"timestamp\",\n                children: formatTime(msg.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)), loading &&\n            /*#__PURE__*/\n            // Typing indicator\n            _jsxDEV(\"div\", {\n              className: \"ai-message ai typing-indicator\",\n              children: \"Typing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-input-bar\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-button\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-smile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: input,\n              onChange: e => setInput(e.target.value),\n              placeholder: \"Type a message...\",\n              onKeyDown: e => e.key === \"Enter\" && sendMessage(),\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: sendMessage,\n              disabled: loading || !input.trim(),\n              className: \"send-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-paper-plane\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-no-persona\",\n          children: \"Select a persona to start chatting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(AIChat, \"tjiEWx8Z3M8c7/8nn2HLrck4lQA=\");\n_c = AIChat;\nvar _c;\n$RefreshReg$(_c, \"AIChat\");","map":{"version":3,"names":["useState","useEffect","useRef","axios","motion","jsxDEV","_jsxDEV","Fragment","_Fragment","personas","id","name","description","icon","AIChat","user","setUser","_s","selectedPersona","setSelectedPersona","messages","setMessages","input","setInput","loading","setLoading","messagesEndRef","isLeftPanelHidden","setIsLeftPanelHidden","_messagesEndRef$curre","current","scrollIntoView","behavior","handlePersonaSelect","personaId","window","innerWidth","handleBackToPersonas","sendMessage","trim","userMsg","sender","text","timestamp","Date","prev","formattedMessages","map","msg","role","content","push","res","post","persona","aiReply","data","assistantMessage","error","console","formatTime","date","d","getHours","getMinutes","toString","padStart","currentPersona","find","p","lastMessageTime","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","div","whileHover","scale","onClick","index","ref","type","value","onChange","e","target","placeholder","onKeyDown","key","disabled","_c","$RefreshReg$"],"sources":["D:/MERN/projects/Social-media/frontend/src/pages/AIChat.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { motion } from \"framer-motion\";\r\nimport \"./AIChat.css\"; // Import the external CSS\r\n\r\n// Added an 'icon' property to each persona for visual representation in the list\r\nconst personas = [\r\n  { id: \"friendly\", name: \"Friendly AI\", description: \"Polite & helpful\", icon: \"ðŸ˜Š\" },\r\n  { id: \"sarcastic\", name: \"Sarcastic AI\", description: \"Funny & witty\", icon: \"ðŸ˜\" },\r\n  { id: \"coder\", name: \"Coder AI\", description: \"Expert developer\", icon: \"ðŸ‘¨â€ðŸ’»\" },\r\n  { id: \"romantic\", name: \"Romantic AI\", description: \"Loving & sweet\", icon: \"â¤ï¸\" },\r\n];\r\n\r\nexport default function AIChat({ user, setUser }) {\r\n  const [selectedPersona, setSelectedPersona] = useState(null); // This holds the ID of the selected persona\r\n  // The messages state will need to store messages for ALL personas if you want persistent history.\r\n  // For now, it's a single array, meaning history resets when you switch personas.\r\n  // To keep history per persona, `messages` would be an object like: { personaId: [], personaId2: [] }\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const [isLeftPanelHidden, setIsLeftPanelHidden] = useState(false); // State for mobile responsiveness\r\n\r\n  // Scroll to bottom when new message arrives\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  // When a persona is selected, potentially hide the left panel on mobile\r\n  // and clear current messages (as per your current state structure)\r\n  const handlePersonaSelect = (personaId) => {\r\n    setSelectedPersona(personaId);\r\n    setMessages([]); // Clears messages when a new persona is selected (due to single 'messages' array)\r\n    setInput(\"\");\r\n    if (window.innerWidth <= 768) { // Example breakpoint for mobile\r\n      setIsLeftPanelHidden(true);\r\n    }\r\n  };\r\n\r\n  const handleBackToPersonas = () => {\r\n    setIsLeftPanelHidden(false);\r\n    setSelectedPersona(null); // Optionally deselect current chat\r\n    setMessages([]); // Clear messages when going back\r\n  };\r\n\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim() || !selectedPersona) return;\r\n\r\n    const userMsg = { sender: \"user\", text: input, timestamp: new Date() };\r\n    setMessages((prev) => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      const formattedMessages = messages.map((msg) => ({\r\n        role: msg.sender === \"user\" ? \"user\" : \"assistant\",\r\n        content: msg.text,\r\n      }));\r\n      formattedMessages.push({ role: \"user\", content: input });\r\n\r\n      const res = await axios.post(\"http://localhost:5000/api/ai/chat\", {\r\n        messages: formattedMessages,\r\n        persona: selectedPersona, // Send the selected persona ID\r\n      });\r\n\r\n      const aiReply = res.data.assistantMessage.content;\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { sender: \"ai\", text: aiReply, timestamp: new Date() },\r\n      ]);\r\n    } catch (error) {\r\n      console.error(\"Error contacting AI:\", error);\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { sender: \"ai\", text: \"Error contacting AI\", timestamp: new Date() },\r\n      ]);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatTime = (date) => {\r\n    const d = new Date(date);\r\n    return `${d.getHours()}:${d.getMinutes().toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  // Find the currently selected persona object for the chat header\r\n  const currentPersona = personas.find(p => p.id === selectedPersona);\r\n  const lastMessageTime = messages.length > 0 ? formatTime(messages[messages.length - 1].timestamp) : null;\r\n\r\n  return (\r\n    // Main container for the entire chat application\r\n    <div className=\"ai-chat-container\">\r\n\r\n      {/* LEFT PANEL â€” PERSONA LIST */}\r\n      <div className={`ai-chat-left ${isLeftPanelHidden ? 'hidden-on-mobile' : ''}`}>\r\n        <div className=\"ai-chat-left-header\"> {/* New header for the persona list */}\r\n          <h2>AI Chat</h2> {/* App Title */}\r\n          <div className=\"actions\">\r\n            <button className=\"icon-button\"><i className=\"fas fa-search\"></i></button> {/* Search */}\r\n            <button className=\"icon-button\"><i className=\"fas fa-plus\"></i></button> {/* New Chat/Persona */}\r\n          </div>\r\n        </div>\r\n\r\n        {personas.map((p) => (\r\n          <motion.div\r\n            whileHover={{ scale: 1.02 }}\r\n            key={p.id}\r\n            onClick={() => handlePersonaSelect(p.id)}\r\n            className={`ai-persona ${selectedPersona === p.id ? \"selected\" : \"\"}`}\r\n          >\r\n            <div className=\"persona-icon-placeholder\">{p.icon}</div> {/* Persona's unique icon */}\r\n            <div className=\"persona-content\">\r\n              <h3>{p.name}</h3>\r\n              <p className=\"persona-description\">{p.description}</p>\r\n            </div>\r\n            {/* Display last message time if this persona had messages previously (requires state refactor) */}\r\n            {/* For now, this will only show if the current `messages` array belongs to this persona */}\r\n            {selectedPersona === p.id && messages.length > 0 && (\r\n              <div className=\"persona-meta\">\r\n                <span className=\"persona-time\">{lastMessageTime}</span>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* RIGHT PANEL â€” CHAT WINDOW */}\r\n      <div className=\"ai-chat-right\">\r\n        {selectedPersona ? (\r\n          <>\r\n            {/* Chat Conversation Header */}\r\n            <div className=\"ai-chat-right-header\"> {/* New header for the conversation */}\r\n              <button className=\"back-button\" onClick={handleBackToPersonas}>\r\n                <i className=\"fas fa-arrow-left\"></i> {/* Back button for mobile */}\r\n              </button>\r\n              <div className=\"chat-title\">{currentPersona ? currentPersona.name : \"AI Chat\"}</div>\r\n              <button className=\"options-button\"><i className=\"fas fa-ellipsis-v\"></i></button> {/* Options menu */}\r\n            </div>\r\n\r\n            {/* Messages window */}\r\n            <div className=\"ai-messages\">\r\n              {messages.map((msg, index) => (\r\n                <div key={index} className={`ai-message ${msg.sender}`}>\r\n                  {msg.text}\r\n                  <span className=\"timestamp\">{formatTime(msg.timestamp)}</span>\r\n                </div>\r\n              ))}\r\n              {loading && ( // Typing indicator\r\n                <div className=\"ai-message ai typing-indicator\">\r\n                  Typing...\r\n                </div>\r\n              )}\r\n              <div ref={messagesEndRef}></div> {/* Scroll target */}\r\n            </div>\r\n\r\n            {/* Input bar */}\r\n            <div className=\"ai-input-bar\">\r\n              <button className=\"icon-button\"><i className=\"fas fa-smile\"></i></button> {/* Emoji icon */}\r\n              <input\r\n                type=\"text\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                placeholder=\"Type a message...\"\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n                disabled={loading}\r\n              />\r\n              <button onClick={sendMessage} disabled={loading || !input.trim()} className=\"send-button\">\r\n                <i className=\"fas fa-paper-plane\"></i> {/* Send icon */}\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"ai-no-persona\">Select a persona to start chatting</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,eAAe;AACtC,OAAO,cAAc,CAAC,CAAC;;AAEvB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,QAAQ,GAAG,CACf;EAAEC,EAAE,EAAE,UAAU;EAAEC,IAAI,EAAE,aAAa;EAAEC,WAAW,EAAE,kBAAkB;EAAEC,IAAI,EAAE;AAAK,CAAC,EACpF;EAAEH,EAAE,EAAE,WAAW;EAAEC,IAAI,EAAE,cAAc;EAAEC,WAAW,EAAE,eAAe;EAAEC,IAAI,EAAE;AAAK,CAAC,EACnF;EAAEH,EAAE,EAAE,OAAO;EAAEC,IAAI,EAAE,UAAU;EAAEC,WAAW,EAAE,kBAAkB;EAAEC,IAAI,EAAE;AAAQ,CAAC,EACjF;EAAEH,EAAE,EAAE,UAAU;EAAEC,IAAI,EAAE,aAAa;EAAEC,WAAW,EAAE,gBAAgB;EAAEC,IAAI,EAAE;AAAK,CAAC,CACnF;AAED,eAAe,SAASC,MAAMA,CAAC;EAAEC,IAAI;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAChD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9D;EACA;EACA;EACA,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM0B,cAAc,GAAGxB,MAAM,CAAC,IAAI,CAAC;EACnC,MAAM,CAACyB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAEnE;EACAC,SAAS,CAAC,MAAM;IAAA,IAAA4B,qBAAA;IACd,CAAAA,qBAAA,GAAAH,cAAc,CAACI,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAACZ,QAAQ,CAAC,CAAC;;EAEd;EACA;EACA,MAAMa,mBAAmB,GAAIC,SAAS,IAAK;IACzCf,kBAAkB,CAACe,SAAS,CAAC;IAC7Bb,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;IACjBE,QAAQ,CAAC,EAAE,CAAC;IACZ,IAAIY,MAAM,CAACC,UAAU,IAAI,GAAG,EAAE;MAAE;MAC9BR,oBAAoB,CAAC,IAAI,CAAC;IAC5B;EACF,CAAC;EAED,MAAMS,oBAAoB,GAAGA,CAAA,KAAM;IACjCT,oBAAoB,CAAC,KAAK,CAAC;IAC3BT,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1BE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;EACnB,CAAC;EAGD,MAAMiB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAAChB,KAAK,CAACiB,IAAI,CAAC,CAAC,IAAI,CAACrB,eAAe,EAAE;IAEvC,MAAMsB,OAAO,GAAG;MAAEC,MAAM,EAAE,MAAM;MAAEC,IAAI,EAAEpB,KAAK;MAAEqB,SAAS,EAAE,IAAIC,IAAI,CAAC;IAAE,CAAC;IACtEvB,WAAW,CAAEwB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEL,OAAO,CAAC,CAAC;IACzCjB,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMqB,iBAAiB,GAAG1B,QAAQ,CAAC2B,GAAG,CAAEC,GAAG,KAAM;QAC/CC,IAAI,EAAED,GAAG,CAACP,MAAM,KAAK,MAAM,GAAG,MAAM,GAAG,WAAW;QAClDS,OAAO,EAAEF,GAAG,CAACN;MACf,CAAC,CAAC,CAAC;MACHI,iBAAiB,CAACK,IAAI,CAAC;QAAEF,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAE5B;MAAM,CAAC,CAAC;MAExD,MAAM8B,GAAG,GAAG,MAAMjD,KAAK,CAACkD,IAAI,CAAC,mCAAmC,EAAE;QAChEjC,QAAQ,EAAE0B,iBAAiB;QAC3BQ,OAAO,EAAEpC,eAAe,CAAE;MAC5B,CAAC,CAAC;MAEF,MAAMqC,OAAO,GAAGH,GAAG,CAACI,IAAI,CAACC,gBAAgB,CAACP,OAAO;MACjD7B,WAAW,CAAEwB,IAAI,IAAK,CACpB,GAAGA,IAAI,EACP;QAAEJ,MAAM,EAAE,IAAI;QAAEC,IAAI,EAAEa,OAAO;QAAEZ,SAAS,EAAE,IAAIC,IAAI,CAAC;MAAE,CAAC,CACvD,CAAC;IACJ,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CrC,WAAW,CAAEwB,IAAI,IAAK,CACpB,GAAGA,IAAI,EACP;QAAEJ,MAAM,EAAE,IAAI;QAAEC,IAAI,EAAE,qBAAqB;QAAEC,SAAS,EAAE,IAAIC,IAAI,CAAC;MAAE,CAAC,CACrE,CAAC;IACJ;IAEAnB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMmC,UAAU,GAAIC,IAAI,IAAK;IAC3B,MAAMC,CAAC,GAAG,IAAIlB,IAAI,CAACiB,IAAI,CAAC;IACxB,OAAO,GAAGC,CAAC,CAACC,QAAQ,CAAC,CAAC,IAAID,CAAC,CAACE,UAAU,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EACxE,CAAC;;EAED;EACA,MAAMC,cAAc,GAAG1D,QAAQ,CAAC2D,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC3D,EAAE,KAAKQ,eAAe,CAAC;EACnE,MAAMoD,eAAe,GAAGlD,QAAQ,CAACmD,MAAM,GAAG,CAAC,GAAGX,UAAU,CAACxC,QAAQ,CAACA,QAAQ,CAACmD,MAAM,GAAG,CAAC,CAAC,CAAC5B,SAAS,CAAC,GAAG,IAAI;EAExG;IAAA;IACE;IACArC,OAAA;MAAKkE,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAGhCnE,OAAA;QAAKkE,SAAS,EAAE,gBAAgB7C,iBAAiB,GAAG,kBAAkB,GAAG,EAAE,EAAG;QAAA8C,QAAA,gBAC5EnE,OAAA;UAAKkE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,GAAC,GAAC,eACpCnE,OAAA;YAAAmE,QAAA,EAAI;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,KAAC,eACjBvE,OAAA;YAAKkE,SAAS,EAAC,SAAS;YAAAC,QAAA,gBACtBnE,OAAA;cAAQkE,SAAS,EAAC,aAAa;cAAAC,QAAA,eAACnE,OAAA;gBAAGkE,SAAS,EAAC;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,eAC3EvE,OAAA;cAAQkE,SAAS,EAAC,aAAa;cAAAC,QAAA,eAACnE,OAAA;gBAAGkE,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAELpE,QAAQ,CAACsC,GAAG,CAAEsB,CAAC,iBACd/D,OAAA,CAACF,MAAM,CAAC0E,GAAG;UACTC,UAAU,EAAE;YAAEC,KAAK,EAAE;UAAK,CAAE;UAE5BC,OAAO,EAAEA,CAAA,KAAMhD,mBAAmB,CAACoC,CAAC,CAAC3D,EAAE,CAAE;UACzC8D,SAAS,EAAE,cAActD,eAAe,KAAKmD,CAAC,CAAC3D,EAAE,GAAG,UAAU,GAAG,EAAE,EAAG;UAAA+D,QAAA,gBAEtEnE,OAAA;YAAKkE,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAEJ,CAAC,CAACxD;UAAI;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,KAAC,eACzDvE,OAAA;YAAKkE,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BnE,OAAA;cAAAmE,QAAA,EAAKJ,CAAC,CAAC1D;YAAI;cAAA+D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjBvE,OAAA;cAAGkE,SAAS,EAAC,qBAAqB;cAAAC,QAAA,EAAEJ,CAAC,CAACzD;YAAW;cAAA8D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC,EAGL3D,eAAe,KAAKmD,CAAC,CAAC3D,EAAE,IAAIU,QAAQ,CAACmD,MAAM,GAAG,CAAC,iBAC9CjE,OAAA;YAAKkE,SAAS,EAAC,cAAc;YAAAC,QAAA,eAC3BnE,OAAA;cAAMkE,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEH;YAAe;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD,CACN;QAAA,GAfIR,CAAC,CAAC3D,EAAE;UAAAgE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgBC,CACb,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNvE,OAAA;QAAKkE,SAAS,EAAC,eAAe;QAAAC,QAAA,EAC3BvD,eAAe,gBACdZ,OAAA,CAAAE,SAAA;UAAAiE,QAAA,gBAEEnE,OAAA;YAAKkE,SAAS,EAAC,sBAAsB;YAAAC,QAAA,GAAC,GAAC,eACrCnE,OAAA;cAAQkE,SAAS,EAAC,aAAa;cAACS,OAAO,EAAE5C,oBAAqB;cAAAoC,QAAA,gBAC5DnE,OAAA;gBAAGkE,SAAS,EAAC;cAAmB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,KAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC,eACTvE,OAAA;cAAKkE,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAEN,cAAc,GAAGA,cAAc,CAACxD,IAAI,GAAG;YAAS;cAAA+D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACpFvE,OAAA;cAAQkE,SAAS,EAAC,gBAAgB;cAAAC,QAAA,eAACnE,OAAA;gBAAGkE,SAAS,EAAC;cAAmB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E,CAAC,eAGNvE,OAAA;YAAKkE,SAAS,EAAC,aAAa;YAAAC,QAAA,GACzBrD,QAAQ,CAAC2B,GAAG,CAAC,CAACC,GAAG,EAAEkC,KAAK,kBACvB5E,OAAA;cAAiBkE,SAAS,EAAE,cAAcxB,GAAG,CAACP,MAAM,EAAG;cAAAgC,QAAA,GACpDzB,GAAG,CAACN,IAAI,eACTpC,OAAA;gBAAMkE,SAAS,EAAC,WAAW;gBAAAC,QAAA,EAAEb,UAAU,CAACZ,GAAG,CAACL,SAAS;cAAC;gBAAA+B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GAFtDK,KAAK;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGV,CACN,CAAC,EACDrD,OAAO;YAAA;YAAM;YACZlB,OAAA;cAAKkE,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAEhD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CACN,eACDvE,OAAA;cAAK6E,GAAG,EAAEzD;YAAe;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,KAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC,eAGNvE,OAAA;YAAKkE,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BnE,OAAA;cAAQkE,SAAS,EAAC,aAAa;cAAAC,QAAA,eAACnE,OAAA;gBAAGkE,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,eAC1EvE,OAAA;cACE8E,IAAI,EAAC,MAAM;cACXC,KAAK,EAAE/D,KAAM;cACbgE,QAAQ,EAAGC,CAAC,IAAKhE,QAAQ,CAACgE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;cAC1CI,WAAW,EAAC,mBAAmB;cAC/BC,SAAS,EAAGH,CAAC,IAAKA,CAAC,CAACI,GAAG,KAAK,OAAO,IAAIrD,WAAW,CAAC,CAAE;cACrDsD,QAAQ,EAAEpE;YAAQ;cAAAkD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC,eACFvE,OAAA;cAAQ2E,OAAO,EAAE3C,WAAY;cAACsD,QAAQ,EAAEpE,OAAO,IAAI,CAACF,KAAK,CAACiB,IAAI,CAAC,CAAE;cAACiC,SAAS,EAAC,aAAa;cAAAC,QAAA,gBACvFnE,OAAA;gBAAGkE,SAAS,EAAC;cAAoB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,KAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA,eACN,CAAC,gBAEHvE,OAAA;UAAKkE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAkC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MACvE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;AAEV;AAAC5D,EAAA,CAvKuBH,MAAM;AAAA+E,EAAA,GAAN/E,MAAM;AAAA,IAAA+E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}